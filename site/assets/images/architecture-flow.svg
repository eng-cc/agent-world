<svg width="1400" height="720" viewBox="0 0 1400 720" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
  <title id="title">agent-world architecture flow</title>
  <desc id="desc">Runtime, simulator, viewer, and LLM/module layers with rule and data flow.</desc>

  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1400" y2="720" gradientUnits="userSpaceOnUse">
      <stop stop-color="#0B1222" />
      <stop offset="1" stop-color="#07101E" />
    </linearGradient>
    <linearGradient id="panel" x1="0" y1="0" x2="1" y2="1">
      <stop stop-color="#12203A" stop-opacity="0.95" />
      <stop offset="1" stop-color="#0D162B" stop-opacity="0.92" />
    </linearGradient>
    <linearGradient id="accent" x1="0" y1="0" x2="1" y2="0">
      <stop stop-color="#81A8FF" />
      <stop offset="1" stop-color="#53E2E6" />
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="8" result="blur" />
      <feMerge>
        <feMergeNode in="blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0 0 L10 5 L0 10 Z" fill="#74C8FF" />
    </marker>
  </defs>

  <rect width="1400" height="720" rx="24" fill="url(#bg)" />
  <g opacity="0.18">
    <path d="M0 120H1400" stroke="#3B5A89" />
    <path d="M0 240H1400" stroke="#3B5A89" />
    <path d="M0 360H1400" stroke="#3B5A89" />
    <path d="M0 480H1400" stroke="#3B5A89" />
    <path d="M0 600H1400" stroke="#3B5A89" />
    <path d="M200 0V720" stroke="#3B5A89" />
    <path d="M400 0V720" stroke="#3B5A89" />
    <path d="M600 0V720" stroke="#3B5A89" />
    <path d="M800 0V720" stroke="#3B5A89" />
    <path d="M1000 0V720" stroke="#3B5A89" />
    <path d="M1200 0V720" stroke="#3B5A89" />
  </g>

  <text x="64" y="82" fill="#D7E4FF" font-size="42" font-family="Inter, Arial, sans-serif" font-weight="700">
    agent-world Architecture Flow
  </text>
  <text x="64" y="118" fill="#9FB7E9" font-size="22" font-family="Inter, Arial, sans-serif">
    Rule Gate → World Evolution → Replay &amp; Observability → Intelligent Decision Extension
  </text>

  <rect x="72" y="168" width="1248" height="480" rx="20" fill="#0B152A" stroke="#2A4168" />

  <g>
    <rect x="116" y="218" width="260" height="120" rx="16" fill="url(#panel)" stroke="#496A9B" />
    <text x="142" y="262" fill="#E4EEFF" font-size="30" font-family="Inter, Arial, sans-serif" font-weight="700">Runtime</text>
    <text x="142" y="296" fill="#AFC4EA" font-size="19" font-family="Inter, Arial, sans-serif">Rule validation / action gate</text>
  </g>

  <g>
    <rect x="432" y="218" width="260" height="120" rx="16" fill="url(#panel)" stroke="#496A9B" />
    <text x="458" y="262" fill="#E4EEFF" font-size="30" font-family="Inter, Arial, sans-serif" font-weight="700">Simulator</text>
    <text x="458" y="296" fill="#AFC4EA" font-size="19" font-family="Inter, Arial, sans-serif">Tick loop / state transition</text>
  </g>

  <g>
    <rect x="748" y="218" width="260" height="120" rx="16" fill="url(#panel)" stroke="#496A9B" />
    <text x="774" y="262" fill="#E4EEFF" font-size="30" font-family="Inter, Arial, sans-serif" font-weight="700">Viewer</text>
    <text x="774" y="296" fill="#AFC4EA" font-size="19" font-family="Inter, Arial, sans-serif">Live monitor / replay / diagnosis</text>
  </g>

  <g>
    <rect x="1064" y="218" width="212" height="120" rx="16" fill="url(#panel)" stroke="#3FA0B6" />
    <text x="1090" y="262" fill="#E4EEFF" font-size="30" font-family="Inter, Arial, sans-serif" font-weight="700">LLM /</text>
    <text x="1090" y="296" fill="#E4EEFF" font-size="30" font-family="Inter, Arial, sans-serif" font-weight="700">Modules</text>
  </g>

  <g>
    <rect x="116" y="410" width="576" height="188" rx="16" fill="#101A31" stroke="#36527F" />
    <text x="142" y="452" fill="#DCE9FF" font-size="28" font-family="Inter, Arial, sans-serif" font-weight="700">Persistence &amp; Evidence</text>
    <text x="142" y="488" fill="#AFC4EA" font-size="19" font-family="Inter, Arial, sans-serif">snapshot.json / journal.json / deterministic replay</text>
    <rect x="142" y="518" width="214" height="48" rx="11" fill="#132748" stroke="#4A6E9F" />
    <text x="162" y="550" fill="#98D6FF" font-size="18" font-family="Inter, Arial, sans-serif">state snapshots</text>
    <rect x="374" y="518" width="214" height="48" rx="11" fill="#132748" stroke="#4A6E9F" />
    <text x="394" y="550" fill="#98D6FF" font-size="18" font-family="Inter, Arial, sans-serif">event journals</text>
  </g>

  <g>
    <rect x="748" y="410" width="528" height="188" rx="16" fill="#101A31" stroke="#36527F" />
    <text x="774" y="452" fill="#DCE9FF" font-size="28" font-family="Inter, Arial, sans-serif" font-weight="700">Control &amp; Feedback Loop</text>
    <text x="774" y="488" fill="#AFC4EA" font-size="19" font-family="Inter, Arial, sans-serif">policy update / diagnostics / runtime intervention</text>
    <rect x="774" y="518" width="220" height="48" rx="11" fill="#132748" stroke="#3FA0B6" />
    <text x="796" y="550" fill="#7EF0E4" font-size="18" font-family="Inter, Arial, sans-serif">repair mechanism</text>
    <rect x="1018" y="518" width="230" height="48" rx="11" fill="#132748" stroke="#3FA0B6" />
    <text x="1040" y="550" fill="#7EF0E4" font-size="18" font-family="Inter, Arial, sans-serif">module injection</text>
  </g>

  <g stroke="#74C8FF" stroke-width="4" fill="none" marker-end="url(#arrow)" filter="url(#glow)">
    <path d="M376 278H432" />
    <path d="M692 278H748" />
    <path d="M1008 278H1064" />
    <path d="M562 338V410" />
    <path d="M878 338V410" />
    <path d="M1064 504V338" />
    <path d="M748 504H692" />
  </g>

  <rect x="72" y="168" width="1248" height="6" fill="url(#accent)" opacity="0.95" />
</svg>
