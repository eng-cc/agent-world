## 开发工作流
0. 拿到仓库时先阅读开发日志和项目管理文档，了解现状
1. 本仓库内所有新功能必须包含:设计文档、项目管理文档、代码
2. 新功能要先写设计文档，再根据设计文档拆解项目管理文档(拆成具体任务)，最后再写代码、跑测试
3. 每次改完代码必须回顾设计文档和项目管理文档，并更新项目管理文档；如果发现与设计文档有不同，需要提出疑问并询问用户如何解决
4. 每个任务(指项目文档里拆解的任务)完成后都需要写任务日志，跑测试，并提交到git
5. 如果没有需要决策的重要问题，不需要中断(如果是决定下一步做什么，默认选第一个选项)，可持续进行下一个任务

- 设计文档、项目管理文档、代码的目录层级共用
- 设计文档写在当前设计涉及的最外层文件夹的 doc 文件夹下，格式为 md
- 项目管理文档也写在当前设计涉及的最外层文件夹的 doc 文件夹下，文件名为 设计文档名称.project.md
- 任务日志写在当前设计涉及的最外层文件夹的 doc/devlog 文件夹下,文件名为年-月-日.md
- 设计文档至少包含:目标、范围、接口/数据、里程碑、风险（可简要）
- 项目管理文档至少包含:任务拆解、依赖、状态（可简要）
- 任务日志应包含:日期(需要每次任务确认下当前日期)、完成内容、遗留事项；日志需要保障符合当天实际，后续不能修改

## 工程架构

- third_party下面的代码只可读，不能写
- 执行cargo命令需要如下形式 env -u RUSTC_WRAPPER cargo check
- 所有代码和功能应该都是可以被测试的，单元测试或者模拟闭环测试都可以
- 单个rust代码文件不能超过2000行,需要择机拆分模块和文件夹