# Doc 目录结构与内容时效复核（Round 2，2026-02-20）设计文档

## 目标
- 对 `doc/` 下全部文档执行第二轮完整复核，确认目录分层是否仍合理、文档内容是否过时。
- 基于“文档内容 + 关联文档 + 当前代码实现”三方一致性，输出每篇文档的结论：`保留` / `保留并修正` / `归档`。
- 若发现过时文档，迁移到对应主题 `archive/` 目录并修复活跃文档引用。

## 范围

### In Scope
- 全量对象：`doc/**/*.md`（包含 `doc/devlog/**`，但 devlog 仅做结构与可追溯性检查，不做历史内容改写）。
- 复核维度：
  - 目录维度：主题聚类是否清晰、顶层入口是否过多、归档目录是否与主题一致。
  - 内容维度：文档描述与 `crates/`、`scripts/`、`site/` 当前实现是否一致。
  - 依赖维度：文档中的路径/命令/引用链接是否有效。
- 落地动作：
  - 输出 round2 结果文档与机器清单。
  - 执行新增归档迁移（如有）与引用修复（仅非 devlog）。

### Out of Scope
- 不改写历史 `doc/devlog` 条目正文。
- 不改动 `third_party/`。
- 不做业务功能新增，仅做文档治理。

## 接口 / 数据
- 结果文档：`doc/doc-structure-freshness-review-round2-2026-02-20.result.md`
- 机器清单：`output/doc-structure-freshness-review-round2-2026-02-20.json`
- 归档目标目录（按主题）：
  - `doc/world-runtime/archive/`
  - `doc/world-simulator/archive/`
  - `doc/site/archive/`
  - `doc/p2p/archive/`
  - `doc/scripts/archive/`

## 里程碑
- R0：建档并冻结 round2 判定标准。
- R1：全量文档读取与机器扫描（结构、引用、代码路径一致性）。
- R2：人工复核与归档/修正落地。
- R3：结果发布、项目文档回写、测试与 devlog 收口。

## 风险
- 风险：把“仍为有效基线”的文档误判为过时。
  - 缓解：必须满足“被后续基线替代 + 当前实现不再匹配”才归档；边界场景优先 `保留并修正`。
- 风险：批量迁移导致链接断裂。
  - 缓解：迁移后执行全量引用扫描，仅修复非 devlog 引用，并在结果文档列出变更。
