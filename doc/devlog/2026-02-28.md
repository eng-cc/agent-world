- 时刻：2026-02-28 11:44:48 CST
- 完成内容：完成“M4 资源产业链可玩性优先强化”T0（建档）。
  - 新增设计文档：`doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.md`。
  - 新增项目管理文档：`doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.project.md`。
  - 项目状态设置为“进行中（T0 已完成，执行 T1）”。
- 测试：
  - test_tier_required（文档行数约束）：`wc -l doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.md doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.project.md`。
  - test_tier_required（设计文档结构）：`rg -n "目标|范围|接口 / 数据|里程碑|风险" doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.md`。
  - test_tier_required（项目文档结构）：`rg -n "任务拆解|依赖|状态" doc/world-simulator/m4/m4-resource-product-system-playability-priority-hardening-2026-02-28.project.md`。
- 遗留事项：
  - 执行 T1：补齐 `polymer_resin` 内置配方链路与 bootstrap/artifact 同步。

- 时刻：2026-02-28 11:55:56 CST
- 完成内容：完成“M4 资源产业链可玩性优先强化”T1（`polymer_resin` 配方链路 + bootstrap/artifact 同步）。
  - 新增内置模块 crate：`crates/agent_world_builtin_wasm_modules/m4_recipe_smelter_polymer_resin`（`Cargo.toml`/`Cargo.lock`/`src/lib.rs`）。
  - 更新 `crates/agent_world_wasm_store/src/lib.rs`、`crates/agent_world/src/runtime/mod.rs`：新增并导出 `M4_RECIPE_SMELT_POLYMER_RESIN_MODULE_ID`。
  - 更新 `crates/agent_world/src/runtime/world/bootstrap_economy.rs`：
    - bootstrap 模块清单新增 `m4.recipe.smelter.polymer_resin`；
    - 默认 `RecipeProfile` 新增 `recipe.smelter.polymer_resin`（`bootstrap` 阶段）。
  - 更新清单：
    - `crates/agent_world/src/runtime/world/artifacts/m4_builtin_module_ids.txt`
    - `crates/agent_world/src/runtime/world/artifacts/builtin_module_manifest_map.txt`
    - `crates/agent_world/src/runtime/world/artifacts/m4_builtin_modules.sha256`
    - `crates/agent_world/src/runtime/world/artifacts/m4_builtin_modules.identity.json`
  - 更新 `crates/agent_world/src/runtime/tests/economy_bootstrap.rs`：
    - 模块常量期望列表纳入新 recipe 模块；
    - 端到端链路测试改为先产出 `polymer_resin`，移除预置 `polymer_resin` 依赖。
- 测试：
  - test_tier_required：`env -u RUSTC_WRAPPER cargo fmt --all -- --check`。
  - test_tier_required：`env -u RUSTC_WRAPPER cargo test -p agent_world runtime::tests::builtin_wasm_identity -- --nocapture`。
  - test_tier_full：`env -u RUSTC_WRAPPER cargo test -p agent_world --features "wasmtime test_tier_full" runtime::tests::economy_bootstrap -- --nocapture`。
  - test_tier_full：`./scripts/sync-m4-builtin-wasm-artifacts.sh --check`。
- 遗留事项：
  - 执行 T2：落地 `unlock_stage` 校验与 `TransferMaterial` 显式优先级。

