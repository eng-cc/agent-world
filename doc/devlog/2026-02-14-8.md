# 2026-02-14

## 完成内容
- 完成 R7-2：从 `crates/agent_world` 彻底移除分布式实现路径。
  - 删除 `crates/agent_world/src/runtime/distributed*.rs`、`crates/agent_world/src/runtime/distributed_membership_sync/` 与 `crates/agent_world/src/runtime/libp2p_net.rs`。
  - 删除 `crates/agent_world/tests/distributed_*.rs` 分布式集成测试文件。
  - 收敛 `crates/agent_world/src/runtime/mod.rs`：移除分布式模块声明与分布式 re-export，仅保留 world runtime 核心能力。
  - 收敛 `crates/agent_world/src/lib.rs`：移除分布式 API 导出（network/dht/consensus/membership/libp2p 等）。
  - 移除 world 核心中的分布式 fetch 入口：
    - `crates/agent_world/src/runtime/world/governance.rs` 删除 `shadow_proposal_with_fetch` / `apply_proposal_with_fetch`。
    - `crates/agent_world/src/runtime/world/module_runtime.rs` 删除 `load_module_with_fetch` / `prefetch_active_modules_with_fetch` / `ensure_module_changes_with_fetch`。
  - 修正分布式协议类型引用：
    - `crates/agent_world/src/runtime/segmenter.rs` 改为直接使用 `agent_world_proto::distributed::SnapshotManifest`。
    - `crates/agent_world/src/runtime/error.rs` 改为直接使用 `agent_world_proto::distributed::DistributedErrorCode`。
  - 精简 `crates/agent_world/Cargo.toml`：移除 `agent_world_net`、`agent_world_consensus`、`libp2p`、`futures` 依赖与对应 feature。
- 文档更新：
  - `doc/world-runtime/distributed-hard-split-phase7.project.md`：标记 R7-2 完成，下一步切到 R7-3。
  - `doc/world-runtime.project.md`：标记 R7-2 完成并更新全局状态。
- 回归验证：
  - `env -u RUSTC_WRAPPER cargo check -p agent_world`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world runtime::segmenter::tests::`

## 遗留事项
- 继续执行 R7-3：拆分 `agent_world` facade，进一步按领域收敛对外导出边界。
