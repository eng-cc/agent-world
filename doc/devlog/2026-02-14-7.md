- 日期：2026-02-14
- 完成内容：修复 CI 问题 - 添加 wasm32-unknown-unknown 目标。
  - 问题诊断：
    - CI 在执行 `./scripts/sync-m1-builtin-wasm-artifacts.sh --check` 时失败。
    - 错误信息：`error[E0463]: can't find crate for 'std'` 和 `the wasm32-unknown-unknown target may not be installed`。
    - 根因：CI 环境缺少 `wasm32-unknown-unknown` Rust 编译目标，该目标是构建 WASM 模块所必需的。
  - 代码改动：
    - `.github/workflows/rust.yml`：在 "Install system deps" 步骤之前添加新步骤 "Install Rust wasm target"，执行 `rustup target add wasm32-unknown-unknown`。
  - 验证通过：
    - 本地安装 wasm32-unknown-unknown 目标后运行 `./scripts/sync-m1-builtin-wasm-artifacts.sh --check` 确认脚本可正常构建 WASM。
    - 该修复针对 CI 基础设施配置，解决了之前添加 ripgrep 后合并 main 分支引入的新问题。
- 遗留事项：无（本任务已完成）。
# 日期
2026-02-14

# 完成内容
- 启动 R7（分布式能力彻底拆分）并新增设计文档：`doc/world-runtime/distributed-hard-split-phase7.md`。
- 新增项目管理文档：`doc/world-runtime/distributed-hard-split-phase7.project.md`，拆解 R7-1~R7-6 六个任务。
- 更新总设计文档与总项目管理文档，登记 R7 阶段入口与状态。
- 完成 R7-1：新增 `agent_world_distfs` crate（`BlobStore`/`LocalCasStore`、snapshot/journal 分片、组装校验）。
- `agent_world::runtime::blob_store` 与 `segmenter` 切换为复用 `agent_world_distfs`；补齐 proto/runtime 错误映射。

# 测试
- `env -u RUSTC_WRAPPER cargo check -p agent_world_distfs`
- `env -u RUSTC_WRAPPER cargo test -p agent_world_distfs`
- `env -u RUSTC_WRAPPER cargo check -p agent_world`
- `env -u RUSTC_WRAPPER cargo test -p agent_world runtime::segmenter::tests::`

# 遗留事项
- 执行 R7-2：删除 `agent_world` 内分布式实现文件并切换调用方到 `agent_world_net`/`agent_world_consensus`/`agent_world_distfs`/`agent_world_proto`。
