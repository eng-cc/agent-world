- 日期：2026-02-13
- 完成内容：完成 BMS-70（阶段六闭环联测设计与任务拆解）。
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：新增阶段六路线（BMS-70~BMS-72）、实施约束与里程碑。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：新增并勾选 BMS-70，补充 BMS-71/BMS-72 待办。
    - `doc/world-runtime.project.md`：同步新增 BMS-70~BMS-72 任务与总状态。
  - 测试：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world_builtin_wasm move_rule_output_uses_action_id_from_input`
- 遗留事项：执行 BMS-71（新增 `agent_world_builtin_wasm` 闭环场景测试）与 BMS-72 回归收口。

- 日期：2026-02-13
- 完成内容：完成 BMS-71（`agent_world_builtin_wasm` 闭环场景测试落地）。
  - 代码改动：
    - `crates/agent_world_builtin_wasm/src/closed_loop_tests.rs`：新增闭环场景测试，串联注册/移动/观测/转移/身体动作/存储扩容/能量更新链路，覆盖 `m1.rule.*`、`m1.body.core`、`m1.sensor.basic`、`m1.mobility.basic`、`m1.memory.core`、`m1.storage.cargo`、`m1.power.*`。
    - `crates/agent_world_builtin_wasm/src/lib.rs`：接线 `#[cfg(test)] mod closed_loop_tests;`。
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：补充 BMS-71 实施说明与验证命令。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：勾选 BMS-71，保留 BMS-72 待办。
    - `doc/world-runtime.project.md`：同步 BMS-71 完成状态。
  - 测试：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world_builtin_wasm closed_loop_tests::wasm_builtin_modules_support_closed_loop_world_scenario`
- 遗留事项：执行 BMS-72，完成阶段六回归验证与文档/devlog 收口。

- 日期：2026-02-13
- 完成内容：完成 BMS-72（阶段六回归验证、文档与 devlog 收口）。
  - 回归与校验通过：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world_builtin_wasm`
    - `env -u RUSTC_WRAPPER cargo check -p agent_world_builtin_wasm --target wasm32-unknown-unknown`
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：补充 BMS-72 回归结果与阶段六结论。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：勾选 BMS-72，更新阶段状态/最近更新/下一步。
    - `doc/world-runtime.project.md`：同步 BMS-72 完成状态。
- 遗留事项：阶段六已收口；若继续推进需新增后续任务拆解。

- 日期：2026-02-13
- 完成内容：完成 BMS-73（阶段七运行时闭环联测设计与任务拆解）。
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：新增阶段七路线（BMS-73~BMS-75）、实施约束与里程碑。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：新增并勾选 BMS-73，补充 BMS-74/BMS-75 待办。
    - `doc/world-runtime.project.md`：同步新增 BMS-73~BMS-75 任务与总状态。
  - 测试：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world --features wasmtime runtime::tests::agent_default_modules::scenario_modules_replay_keeps_state_consistent`
- 遗留事项：执行 BMS-74（新增运行时闭环场景测试）与 BMS-75 回归收口。

- 日期：2026-02-13
- 完成内容：完成 BMS-74（运行时 wasmtime 闭环场景测试落地）。
  - 代码改动：
    - `crates/agent_world/src/runtime/tests/agent_default_modules.rs`：
      - 新增 builtin wasm 模块安装测试辅助（按治理链路安装 `m1.rule.transfer` / `m1.body.core`）。
      - 新增闭环场景测试 `scenario_modules_with_transfer_and_body_keep_wasm_closed_loop_consistent`，覆盖 `register/query/transfer/move/expand/body_action` 链路，并断言 memory/storage/power 状态更新。
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：补充 BMS-74 实施说明与验证命令。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：勾选 BMS-74，保留 BMS-75 待办。
    - `doc/world-runtime.project.md`：同步 BMS-74 完成状态。
  - 测试：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world --features wasmtime runtime::tests::agent_default_modules::scenario_modules_with_transfer_and_body_keep_wasm_closed_loop_consistent`
- 遗留事项：执行 BMS-75，完成阶段七回归验证与文档/devlog 收口。

- 日期：2026-02-13
- 完成内容：完成 BMS-75（阶段七回归验证、文档与 devlog 收口）。
  - 回归与校验通过：
    - `env -u RUSTC_WRAPPER cargo test -p agent_world --features wasmtime runtime::tests::agent_default_modules::`
    - `env -u RUSTC_WRAPPER cargo test -p agent_world_builtin_wasm`
  - 文档更新：
    - `doc/world-runtime/builtin-wasm-crate-split.md`：补充 BMS-75 回归结果与阶段七结论。
    - `doc/world-runtime/builtin-wasm-crate-split.project.md`：勾选 BMS-75，更新阶段状态/最近更新/下一步。
    - `doc/world-runtime.project.md`：同步 BMS-75 完成状态。
- 遗留事项：阶段七已收口；若继续推进需新增后续任务拆解。
