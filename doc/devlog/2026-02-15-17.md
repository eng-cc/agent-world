# 开发日志（2026-02-15）

## 日期
- 2026-02-15

## 完成内容
- 完成 Viewer WebSocket/HTTP bridge 文档收口（WLB4）：
  - 更新 `AGENTS.md`，将闭环默认流程统一为 `live server (--web-bind) + Web Viewer + Playwright`。
  - 更新 `doc/viewer-manual.md`，补齐 `llm_bootstrap` Web 在线联调命令与 `?ws=` 页面访问方式。
  - 更新 `doc/world-simulator/viewer-bevy-web-runtime.md` 与 `.project.md`，同步当前 Web 在线连接口径，移除“默认离线”旧描述。
  - 更新 `doc/world-simulator/viewer-websocket-http-bridge.project.md`，将 WLB4 全部任务标记为完成。
  - 更新 `doc/world-simulator.project.md`，将“Viewer Web 在线 bridge 接入”标记为完成并刷新最近更新说明。
- 完成 Web 端在线闭环验证（Playwright）：
  - live server: `world_viewer_live llm_bootstrap --bind 127.0.0.1:5023 --web-bind 127.0.0.1:5011 --tick-ms 300`
  - web viewer: `run-viewer-web.sh --address 127.0.0.1 --port 4173`
  - Playwright: `open/snapshot/console/screenshot --filename`
  - 产物：
    - `output/playwright/viewer/viewer-web-live.png`
    - `output/playwright/viewer/snapshot-live.log`
    - `output/playwright/viewer/console-live.log`
- 执行回归检查：
  - `env -u RUSTC_WRAPPER cargo check -p agent_world`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world_viewer`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world_viewer --target wasm32-unknown-unknown`

## 遗留事项
- bridge 目前以本地开发为目标，后续可补充压力测试（长连接、断连重连、慢消费者）与多会话隔离策略。
