# 2026-02-14

## 完成内容
- 完成 R7-3：拆分 `agent_world` 大 facade，收敛导出边界并清理跨层 re-export。
  - `crates/agent_world/src/lib.rs`：移除根级对 `runtime`/`simulator` 的大规模 `pub use`，仅保留模块入口与几何/模型基础导出。
  - 调用方改造为显式模块路径：
    - `crates/agent_world/src/bin/world_viewer_demo.rs`
    - `crates/agent_world/src/bin/world_viewer_live.rs`
    - `crates/agent_world/src/bin/world_init_demo.rs`
    - `crates/agent_world/tests/{module_lifecycle,module_store,module_input_cbor,module_state,module_subscription_filters,wasm_executor,viewer_live_integration,viewer_offline_integration}.rs`
    - `crates/agent_world_net/src/{bootstrap,observer_replay}.rs`
  - 集成测试中的 runtime 类型引用统一改为 `agent_world::runtime::*`（避免继续依赖根级跨层导出）。
- 文档更新：
  - `doc/world-runtime/distributed-hard-split-phase7.project.md`：标记 R7-3 完成并切换下一步到 R7-4。
  - `doc/world-runtime.project.md`：同步全局 R7 进度与状态。
- 回归验证：
  - `env -u RUSTC_WRAPPER cargo check -p agent_world`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world --all-targets`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world --test module_lifecycle`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world --test viewer_offline_integration`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world_net`

## 遗留事项
- 继续执行 R7-4：viewer 协议并入 `agent_world_proto` 并完成 server/viewer 双端适配。
