- 日期：2026-02-15
- 完成内容：完成 Viewer Web 路径的 Playwright 闭环验证与离线模式 panic 修复。
  - 触发与定位：
    - 使用 Playwright 打开 `http://127.0.0.1:4173`，console 捕获到 wasm panic：
      - `timeline_controls::handle_control_buttons` 在离线 Web 模式下强依赖 `Res<ViewerClient>`，资源不存在导致崩溃。
  - 修复实现：
    - `crates/agent_world_viewer/src/timeline_controls.rs`
    - `handle_control_buttons` 改为 `Option<Res<ViewerClient>>`，离线时跳过发送控制请求。
    - `handle_timeline_seek_submit` 改为 `Option<Res<ViewerClient>>`，离线时仅更新本地时间轴状态。
  - Playwright 闭环产物：
    - `output/playwright/viewer-web-home.png`（修复前验证）
    - `output/playwright/viewer-web-home-after-fix-restart.png`（修复后复测）
    - `.playwright-cli/console-2026-02-15T12-10-31-115Z.log`（error=0）
    - `.playwright-cli/console-2026-02-15T12-10-32-260Z.log`（仅 1 条 Chromium SRI warning）
- 完成内容：执行并通过回归验证。
  - `env -u RUSTC_WRAPPER cargo check -p agent_world_viewer`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world_viewer --target wasm32-unknown-unknown`
  - Playwright（Node 20）：open/snapshot/screenshot/console/eval 闭环验证通过
- 遗留事项：当前 Web 运行仍为离线模式；在线连接 `world_viewer_live` 需后续引入 WebSocket/HTTP bridge。
