- 日期：2026-02-15
- 完成内容：完成 Wasm 构建一致性与模块身份升级（WIR-1~WIR-4）。
  - 新增设计/项目文档：
    - `doc/world-runtime/wasm-artifact-identity-reproducibility.md`
    - `doc/world-runtime/wasm-artifact-identity-reproducibility.project.md`
  - 固定 toolchain 并对齐 CI：
    - 新增 `rust-toolchain.toml`（`channel=1.92.0`，包含 `rustfmt` 与 `wasm32-unknown-unknown`）。
    - 更新 `.github/workflows/rust.yml`，在两个 job 中安装并切换到固定 Rust toolchain。
  - 模块身份升级（兼容模式）：
    - `crates/agent_world_wasm_abi/src/lib.rs` 新增 `ModuleArtifactIdentity`（`source_hash/build_manifest_hash/artifact_signature`）。
    - `ModuleManifest` 新增可选字段 `artifact_identity`（`Option` + serde 默认），保持旧 manifest 可反序列化。
    - runtime 校验增强：若声明 `artifact_identity`，必须完整且签名匹配当前 `wasm_hash`（当前校验 `unsigned:` 语义签名）。
  - bootstrap 模块身份接线：
    - `bootstrap_power.rs`、`bootstrap_economy.rs` 内置模块 manifest 默认写入 `artifact_identity`。
  - 测试补充：
    - `agent_world_wasm_abi` 新增 `module_artifact_identity_unsigned_signature_roundtrip`。
    - `agent_world` 新增：
      - `shadow_rejects_incomplete_module_artifact_identity`
      - `shadow_rejects_module_artifact_identity_signature_mismatch`
- 完成内容：执行并通过回归验证。
  - `env -u RUSTC_WRAPPER cargo test -p agent_world_wasm_abi module_artifact_identity_unsigned_signature_roundtrip -- --nocapture`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world shadow_rejects_incomplete_module_artifact_identity -- --nocapture`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world shadow_rejects_module_artifact_identity_signature_mismatch -- --nocapture`
  - `env -u RUSTC_WRAPPER cargo check -p agent_world --tests --features test_tier_required`
- 遗留事项：
  - 当前 `artifact_signature` 采用 `unsigned:` 语义占位校验；后续需接入真实签名与密钥治理。
  - “节点先拉取构建结果，失败再本地编译”的网络闭环尚未落地协议实现，当前已在设计文档中定为下一阶段任务。
