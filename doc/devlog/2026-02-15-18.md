- 日期：2026-02-15
- 完成内容：完成 BFC（Builtin Wasm 先拉取后编译回退）实现与 full 闭环测试。
  - 文档：
    - 新增 `doc/world-runtime/builtin-wasm-fetch-fallback-compile.md`
    - 新增 `doc/world-runtime/builtin-wasm-fetch-fallback-compile.project.md`
  - runtime 实现：
    - 新增 `crates/agent_world/src/runtime/builtin_wasm_materializer.rs`，实现 builtin wasm 装载顺序：
      1) 本地 distfs 命中；
      2) 网络拉取（`AGENT_WORLD_BUILTIN_WASM_FETCHER` / `AGENT_WORLD_BUILTIN_WASM_FETCH_URLS`）；
      3) 拉取失败回退本地编译（`AGENT_WORLD_BUILTIN_WASM_COMPILER` 或默认 `scripts/build-wasm-module.sh`）。
    - `m1_builtin_wasm_artifact.rs`、`m4_builtin_wasm_artifact.rs` 接入统一 materializer。
  - 测试：
    - 新增 `crates/agent_world/src/runtime/tests/builtin_wasm_materializer.rs`
    - 闭环覆盖 `fetch miss -> fallback compile -> 写回 distfs -> 校验可读`（`test_tier_full`）。
- 完成内容：执行并通过回归验证。
  - `env -u RUSTC_WRAPPER cargo check -p agent_world --tests --features test_tier_required`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world runtime::tests::power_bootstrap::install_power_bootstrap_modules_registers_and_activates --features "test_tier_full,wasmtime" -- --nocapture`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world runtime::tests::builtin_wasm_materializer::materializer_fetch_miss_falls_back_to_compile_and_caches_blob --features "test_tier_full,wasmtime" -- --nocapture`
  - `env -u RUSTC_WRAPPER cargo test -p agent_world --tests --features "test_tier_full,wasmtime,viewer_live_integration" runtime::tests::builtin_wasm_materializer::materializer_fetch_miss_falls_back_to_compile_and_caches_blob -- --nocapture`
- 遗留事项：
  - 目前网络拉取优先通过环境变量注入（fetcher / URL），尚未绑定统一的 p2p artifact 协议实现。
